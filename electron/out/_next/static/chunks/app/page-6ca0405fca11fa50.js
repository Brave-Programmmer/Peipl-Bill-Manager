(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2598:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});var t=s(95155);function r(){return(0,t.jsxs)("header",{className:"bg-gradient-to-r from-[#20b4b196] via-[#1577757d] to-[#136664ad] shadow-2xl no-print relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-[#019b98]/10 to-[#311703]/10"}),(0,t.jsx)("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23019b98' fill-opacity='0.07'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:(0,t.jsx)("div",{className:"flex justify-between items-center py-8",children:(0,t.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,t.jsx)("div",{className:"w-20 h-20 backdrop-blur-md flex items-center justify-center overflow-hidden group",children:(0,t.jsx)("img",{src:"./logo.png",alt:"Pujari Engineers Logo",width:80,height:80,className:"object-contain w-full h-full group-hover:scale-110 transition-transform duration-300"})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-2 tracking-tight drop-shadow",children:"Pujari Engineers"}),(0,t.jsx)("p",{className:"text-white text-xl font-medium tracking-wide",children:"Professional Bill Maker & Management System"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-white font-bold",children:[(0,t.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,t.jsx)("span",{children:"System Online"})]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:"Version 2.0"})]})]})]})})})]})}},22259:(e,a,s)=>{"use strict";s.d(a,{A:()=>g});var t=s(95155),r=s(88661),l=s.n(r),n=s(12115),i=s(17787),o=s(49027),c=s(27587),d=s(22663),x=s(43065),m=s(43517),u=s(88050),h=s.n(u);let p=(0,x.v)(m.Q,{number:"number"});function g(e){let{billData:a,setBillData:s,compact:r=!1,toggleFullscreen:x,isFullscreen:m}=e,u=[{key:"srNoDate",label:"Sr. No. & Date",type:"text"},{key:"refNo",label:"Ref No.",type:"text"},{key:"description",label:"Job Description",type:"text"},{key:"sacHsn",label:"SAC/HSN",type:"text"},{key:"quantity",label:"Qty",type:"number"},{key:"rate",label:"Rate (₹)",type:"number"},{key:"amount",label:"Taxable Value (₹)",type:"formula",formula:"quantity*rate"},{key:"cgstAmount",label:"CGST (9%)",type:"formula",formula:"amount*0.09"},{key:"sgstAmount",label:"SGST (9%)",type:"formula",formula:"amount*0.09"},{key:"totalWithGST",label:"Total (₹)",type:"formula",formula:"amount+cgstAmount+sgstAmount"}],g=a.columns||u,j=a.items||[],b=a.tableTitle||"Invoice",[f,y]=(0,n.useState)(!1),[v,N]=(0,n.useState)(!1),[w,k]=(0,n.useState)("current"),[S,C]=(0,n.useState)(1),[A,L]=(0,n.useState)(null),[I,E]=(0,n.useState)(null),[P,D]=(0,n.useState)({}),[T,M]=(0,n.useState)(()=>{try{let e=localStorage.getItem("bill_presets");return e?JSON.parse(e):[]}catch(e){return[]}}),[B,R]=(0,n.useState)(!1),[H,O]=(0,n.useState)(""),[G,W]=(0,n.useState)(()=>{try{let e=localStorage.getItem("bill_format_presets");return e?JSON.parse(e):[]}catch(e){return[]}}),[F,z]=(0,n.useState)(!1),[_,V]=(0,n.useState)(""),[q,J]=(0,n.useState)(!1),[U,K]=(0,n.useState)(!1),[Y,Z]=(0,n.useState)(1),Q=a.rowsPerPage&&Number(a.rowsPerPage)||10,[$,X]=(0,n.useState)(1),[ee,ea]=(0,n.useState)(0);(0,n.useEffect)(()=>{ea(a.manualExtraPages||0)},[a.manualExtraPages]);let es=Math.max(1,Math.max(1,Math.ceil((j||[]).length/Q))+(ee||0)),et=(0,n.useCallback)(e=>{let t=a.date||new Date().toISOString().split("T")[0];s(a=>({...a,items:a.items.map(a=>{if(a.id===e){let e=a.dates||[t];if(!e.includes(t))return{...a,dates:[...e,t]}}return a})})),E(null)},[a.date]);(0,n.useLayoutEffect)(()=>{(null==a?void 0:a.items)&&0!==a.items.length&&a.items.some(e=>!e||void 0===e.id||null===e.id||""===e.id)&&s(e=>({...e,items:(e.items||[]).map(e=>({...e||{},id:e&&e.id?e.id:eL()}))}))},[a.items,eL,s]);let er=(0,i.FR)((0,i.MS)(i.AN,{activationConstraint:{distance:5}})),[el,en]=(0,n.useState)(!1),[ei,eo]=(0,n.useState)(null),ec=(0,n.useMemo)(()=>{let e={};return(g||[]).forEach(a=>{if("formula"===a.type&&a.formula)try{e[a.key]=p.compile(a.formula)}catch(e){console.debug("Failed to compile formula for",a.key,e)}}),e},[g]),[ed,ex]=(0,n.useState)("text"),[em,eu]=(0,n.useState)(""),[eh,ep]=(0,n.useState)(""),[eg,ej]=(0,n.useState)(null),[eb,ef]=(0,n.useState)(!0),[ey,ev]=(0,n.useState)("current"),[eN,ew]=(0,n.useState)(1),ek=(0,n.useCallback)((e,a)=>{if(!e||!e.trim())return{valid:!1,error:"Formula cannot be empty"};if(/[;\[\]{}]/.test(e))return{valid:!1,error:"Formula contains invalid characters"};try{let s=p.parse(e),t=[];s.traverse(function(e){e.isSymbolNode&&t.push(e.name)});let r=t.filter(e=>!a.includes(e)&&isNaN(Number(e)));if(r.length>0)return{valid:!1,error:"Unknown column keys: ".concat([...new Set(r)].join(", "))};s.compile()}catch(e){return{valid:!1,error:"Formula error: ".concat(e.message)}}return{valid:!0}},[]);function eS(e){try{localStorage.setItem("bill_presets",JSON.stringify(e||[])),M(e||[])}catch(e){console.error("Failed to persist presets",e)}}function eC(e){try{localStorage.setItem("bill_format_presets",JSON.stringify(e||[])),W(e||[])}catch(e){console.error("Failed to persist bill format presets",e)}}(0,n.useEffect)(()=>{if(!el)return;if("formula"!==ed){ef(!0),ej(null);return}let e=ek(em,g.map(e=>e.key));ef(e.valid),ej(e.valid?null:e.error)},[el,em,ed,g,ek]);let eA=(0,n.useMemo)(()=>{let e={};return g.forEach(a=>{if("number"===a.type||"formula"===a.type){let s=0;j.forEach(e=>{let t=e[a.key];if(Array.isArray(t))t.forEach(e=>{let a=Number(e);isNaN(a)||(s+=a)});else{let e=Number(t);isNaN(e)||(s+=e)}}),e[a.key]=Number(s.toFixed(2))}}),e},[j,g]);function eL(){return"id-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,8))}function eI(e){let a={...e};return g.forEach(e=>{if("formula"===e.type&&e.formula)try{let s=0;g.forEach(e=>{let t=a[e.key];Array.isArray(t)&&(s=Math.max(s,t.length))});let t=ec[e.key]||p.compile(e.formula),r=g.map(e=>{let s=a[e.key];return Array.isArray(s)?s.length:0}).filter(e=>e>0);if(0===r.length){let s={};g.forEach(e=>{let t=a[e.key];if(Array.isArray(t)&&(t=t[0]||0),""===t||null==t)s[e.key]=0;else{let a=Number(t);s[e.key]=isNaN(a)?0:a}});let r=t.evaluate(s);a[e.key]="number"==typeof r?Number(r.toFixed(2)):r}else{let s=Math.max(...r),l=[];for(let e=0;e<s;e++){let s={};g.forEach(t=>{let r=a[t.key];if(Array.isArray(r)){let a=e<r.length?r[e]:0;s[t.key]=""===a||null==a||isNaN(Number(a))?0:Number(a)}else s[t.key]=""===r||null==r||isNaN(Number(r))?0:Number(r)});let r=t.evaluate(s);l.push("number"==typeof r?Number(r.toFixed(2)):r)}a[e.key]=l}}catch(s){console.debug("Formula eval error",s),a[e.key]="Err"}}),a}function eE(e,a,t){s(s=>{let r=[...s.items||[]],l=r[e]?{...r[e],[a]:t}:{id:eL(),[a]:t};return r[e]=eI(l),{...s,items:r}})}function eP(e){ea(a=>{let t=Math.max(0,(a||0)+e);s(e=>({...e||{},manualExtraPages:t}));let r=Math.max(1,Math.ceil((j||[]).length/Q)+t);return X(e=>Math.min(e,r)),t})}function eD(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;y(!0),s(s=>{let t=[...s.items||[]],r={id:eL()};g.forEach(e=>{"quantity"===e.key?r[e.key]="1":r[e.key]=""});let l=$;"specific"===e&&a?l=Math.min(Math.max(1,a),es):"last"===e?l=es:"new"===e&&(l=es+1);let n=t.length;if("new"===e)n=t.length;else{let e=(l-1)*Q,a=Math.max(0,Math.min(Q,t.slice(e,e+Q).length));n=e+a}return n=Math.min(n,t.length),t.splice(n,0,eI(r)),{...s,items:t}}),"new"===e&&(eP(1),X(e=>Math.max(1,e)+1)),"specific"===e&&a&&X(Math.min(Math.max(1,a),es)),"current"===e&&X(e=>Math.min(Math.max(1,e),es)),N(!1),setTimeout(()=>y(!1),200)}function eT(e){let{row:a,rowIdx:s,children:r}=e,{attributes:l,listeners:n,setNodeRef:i,transform:d,transition:x,isDragging:m}=(0,o.gl)({id:"row-".concat(a.id||s)}),u={transform:c.Ks.Transform.toString(d),transition:x,background:m?"#eef2ff":void 0,color:"#000",boxShadow:m?"0 12px 30px rgba(99,102,241,0.14)":void 0,userSelect:m?"none":void 0,cursor:"grab"};return(0,t.jsx)("tr",{ref:i,style:u,...l,...n,className:"border-b border-gray-100 group transition-all duration-200 animate-fadein ".concat(m?"dragging-row dragging":""),children:r})}function eM(e){var a,s;let{col:r,idx:l,children:n}=e,{attributes:i,listeners:d,setNodeRef:x,transform:m,transition:u,isDragging:p}=(0,o.gl)({id:"col-".concat(r.key)}),g={transform:c.Ks.Transform.toString(m),transition:u,background:p?"#eef2ff":void 0,color:"#000",boxShadow:p?"0 8px 20px rgba(99,102,241,0.10)":void 0,userSelect:p?"none":void 0,cursor:"grab",minWidth:80};return(0,t.jsx)("th",{ref:x,style:g,...i,...d,className:"px-3 py-3 text-left font-bold border-b-2 border-gray-200 group ".concat(p?"dragging-column dragging":""),children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",className:"".concat(h().dragHandle," icon-svg text-[#019b98]"),title:"Drag to reorder",...i,...d,"aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M3 7h18v2H3V7zm0 4h18v2H3v-2zm0 4h18v2H3v-2z"})}),n,(0,t.jsx)("span",{className:"ml-1 text-xs px-1 py-0.5 rounded bg-slate-100 border border-slate-200 text-slate-500",title:"Type: ".concat(r.type).concat("formula"===r.type&&r.formula?" (".concat(r.formula,")"):""),children:"formula"===r.type?"ƒ":null==(s=r.type)||null==(a=s[0])?void 0:a.toUpperCase()}),(0,t.jsx)("button",{onClick:()=>{eo({idx:l,col:r}),ex(r.type||"text"),eu(r.formula||""),ep(r.label||""),en(!0)},className:"ml-1 text-blue-400 hover:text-blue-600 bg-none border-none cursor-pointer font-bold text-base px-1 py-0.5 rounded transition-all",title:"Edit column type",style:{background:"#f1f5f9",border:"1px solid black",padding:"0px 0px 5px 3px",color:"#000",boxShadow:"none",lineHeight:"20px"},children:(0,t.jsx)("svg",{className:"icon-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M12.2 7.8l4 4M3 21l3.75-1 11.13-11.13a2.12 2.12 0 0 0-3-3L3 17.25V21z"})})})]})})}function eB(e){let{row:a,rowIdx:s,col:r,inputType:l,readOnly:i,displayValue:o}=e,c=Array.isArray(o),[d,x]=(0,n.useState)(c?o.map(e=>String(null!=e?e:"")):[String(null!=o?o:"")]);(0,n.useEffect)(()=>{c?x(o.map(e=>String(null!=e?e:""))):x([String(null!=o?o:"")])},[o,c]);let m=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0],i)return;let e=d;"number"===l&&(e=d.map(e=>{let a=parseFloat(e);return isNaN(a)?0:a}));let a=1!==e.length||c?e:e[0];eE(s,r.key,a)},u="refNo"===r.key||"rate"===r.key,h=e=>{let a={value:d[e],onChange:a=>((e,a)=>{let s=e.target.value;x(e=>{let t=[...e];return t[a]=s,t})})(a,e),onBlur:()=>m(e),onKeyDown:a=>{i||("Enter"===a.key?(a.preventDefault(),m(e)):"Escape"===a.key&&(a.preventDefault(),x(c?o.map(e=>String(null!=e?e:"")):[String(null!=o?o:"")])))},className:"w-full border border-gray-200 rounded px-2 py-1 text-xs focus:ring-2 focus:ring-blue-200 focus:bg-white transition-all ".concat(i?"bg-gray-100 text-gray-500 cursor-not-allowed":""),placeholder:r.label,readOnly:i,tabIndex:i?-1:0,style:{color:"#000"},autoComplete:"off"};switch(l){case"number":return{...a,type:"text",inputMode:"decimal",pattern:"[0-9]*\\.?[0-9]*"};case"date":return{...a,type:"date"};case"formula":return{...a,type:"text",readOnly:!0,className:"".concat(a.className," bg-gray-50 cursor-not-allowed")};default:return{...a,type:"text"}}};return i?"formula"===r.type&&Array.isArray(o)?(0,t.jsx)("div",{className:"flex flex-col gap-0.5",children:o.map((e,a)=>(0,t.jsx)("span",{children:e},a))}):(0,t.jsx)("input",{...h(0)}):(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[d.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("input",{...h(a)}),d.length>1&&(0,t.jsx)("button",{type:"button","aria-label":"Remove value",onClick:()=>{x(e=>{let t=e.filter((e,s)=>s!==a),n=1===t.length?t[0]:t;return"number"===l&&1===(n=t.map(e=>{let a=parseFloat(e);return isNaN(a)?0:a})).length&&(n=n[0]),eE(s,r.key,n),t})},className:"text-red-500 hover:text-red-700 px-1 py-0.5 rounded focus:outline-none",children:(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},a)),(0,t.jsxs)("button",{type:"button","aria-label":"Add value",onClick:()=>{x(e=>[...e,""])},className:"text-green-600 hover:text-green-800 px-1 py-0.5 rounded focus:outline-none flex items-center gap-1 mt-1 transition-all duration-150\n              ".concat(u?"bg-yellow-100 border border-yellow-400 shadow-sm hover:bg-yellow-200":"","\n            "),title:u?"Add another value (multi-value supported)":"Add value",children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("path",{d:"M12 8v8M8 12h8"})]}),(0,t.jsx)("span",{className:"text-xs",children:"Add"})]})]})}return(0,n.useEffect)(()=>{s(e=>{if(!e||!Array.isArray(e.items)||0===e.items.length)return e;let a=e.items.map(e=>eI(e));return a.some((a,s)=>JSON.stringify(a)!==JSON.stringify(e.items[s]))?{...e,items:a}:e})},[]),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a "+"".concat(m?"fixed inset-0 z-50 bg-white p-4 overflow-auto":"p-6 max-w-full"),children:[(0,t.jsx)(l(),{id:"26e34c2bc8c3e21a",children:"@media print{.print-safe-table,.print-safe-table *{font-size:10px!important;table-layout:fixed!important;max-width:100vw!important;word-break:break-word!important;white-space:pre-wrap!important;overflow:visible!important}.print-safe-table th,.print-safe-table td{word-break:break-word!important;white-space:pre-wrap!important;overflow:visible!important;padding:2px 3px!important;min-width:0!important}.print-safe-table input,.print-safe-table textarea{font-size:10px!important;width:100%!important;min-width:0!important;max-width:100%!important;box-sizing:border-box!important}.overflow-x-auto{overflow-x:visible!important}}"}),(0,t.jsx)(l(),{id:"c63479c334f0e2e",children:"@keyframes floaty{0%{transform:translatey(0)translatex(0)}50%{transform:translatey(-8px)translatex(6px)}100%{transform:translatey(0)translatex(0)}}.particle.jsx-5290aaac15de344a{position:absolute;width:8px;height:8px;background:rgba(99,102,241,.12);border-radius:50%;animation:floaty 6s ease-in-out infinite;pointer-events:none}@media print{.particle.jsx-5290aaac15de344a{display:none!important}}.drag-handle.jsx-5290aaac15de344a{cursor:grab;color:#6366f1;font-size:16px;padding:6px 8px;border-radius:6px;transition:background.15s ease,transform.12s ease}.drag-handle.jsx-5290aaac15de344a:hover{background:rgba(99,102,241,.06);transform:translatey(-1px)}.btn-modern.jsx-5290aaac15de344a{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;border:none;font-weight:600;box-shadow:0 6px 18px rgba(15,23,42,.04);transition:transform.12s ease,box-shadow.12s ease,background.12s ease}.btn-modern.jsx-5290aaac15de344a:active{transform:translatey(1px)scale(.997)}.btn-add.jsx-5290aaac15de344a{background:linear-gradient(90deg,#10b981,#06b6d4);color:white}.btn-col.jsx-5290aaac15de344a{background:rgba(99,102,241,.06);color:#4f46e5;border:1px solid rgba(99,102,241,.12)}.btn-danger.jsx-5290aaac15de344a{background:linear-gradient(90deg,#fecaca,#f87171);color:#7f1d1d}.row-hover.jsx-5290aaac15de344a:hover{background:rgba(99,102,241,.03)}"}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex items-center justify-between gap-4 mb-6",children:[(0,t.jsx)("div",{className:"jsx-5290aaac15de344a flex items-center gap-3",children:(0,t.jsx)("h3",{className:"jsx-5290aaac15de344a text-xl font-bold text-[#311703] tracking-wide m-0",children:"Bill Items"})}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex items-center gap-3",children:[(0,t.jsxs)("button",{onClick:()=>{eo({idx:g.length,col:null}),ex("text"),eu(""),ep("Column ".concat(g.length+1)),ev("current"),ew(Math.min(Math.max(1,$),es)),en(!0)},title:"Add Column",className:"jsx-5290aaac15de344a inline-flex items-center gap-2 px-4 py-2 rounded-lg border-2 border-[#019b98] bg-[#e6fcfa] text-[#019b98] font-semibold shadow-sm hover:bg-[#019b98] hover:text-white transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-[#019b98] focus:ring-offset-2",children:[(0,t.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:(0,t.jsx)("path",{d:"M12 5v14M5 12h14",className:"jsx-5290aaac15de344a"})}),(0,t.jsx)("span",{className:"jsx-5290aaac15de344a",children:"Add Column"})]}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a relative group",children:[(0,t.jsxs)("button",{onClick:function(){if(es>1){k("current"),C(Math.min(Math.max(1,$),es)),N(!0);return}eD("current")},title:"Add Row",className:"jsx-5290aaac15de344a inline-flex items-center gap-2 px-4 py-2 rounded-lg border-2 border-[#10b981] bg-[#ecfdf5] text-[#10b981] font-semibold shadow-sm hover:bg-[#10b981] hover:text-white transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-[#10b981] focus:ring-offset-2",children:[(0,t.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:(0,t.jsx)("path",{d:"M3 6h18M3 12h18M3 18h18",className:"jsx-5290aaac15de344a"})}),(0,t.jsx)("span",{className:"jsx-5290aaac15de344a",children:"Add Row"})]}),(0,t.jsx)("div",{className:"jsx-5290aaac15de344a absolute top-full left-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-10 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a p-2",children:[(0,t.jsx)("div",{className:"jsx-5290aaac15de344a text-xs font-semibold text-gray-600 mb-2",children:"Quick Add:"}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a space-y-1",children:[(0,t.jsx)("button",{onClick:()=>{let e={id:eL(),description:"",sacHsn:"",quantity:1,unit:"PCS",rate:0,amount:0,cgstRate:9,cgstAmount:0,sgstRate:9,sgstAmount:0,totalWithGST:0,dates:[new Date().toISOString().split("T")[0]]};s(a=>({...a,items:[...a.items||[],e]})),d.Ay.success("Row added successfully!")},className:"jsx-5290aaac15de344a w-full text-left px-2 py-1 text-sm hover:bg-gray-100 rounded",children:"➕ Add Empty Row"}),(0,t.jsx)("button",{onClick:()=>{let e={id:eL(),description:"Service Item",sacHsn:"998314",quantity:1,unit:"PCS",rate:1e3,amount:1e3,cgstRate:9,cgstAmount:90,sgstRate:9,sgstAmount:90,totalWithGST:1180,dates:[new Date().toISOString().split("T")[0]]};s(a=>({...a,items:[...a.items||[],e]})),d.Ay.success("Sample row added!")},className:"jsx-5290aaac15de344a w-full text-left px-2 py-1 text-sm hover:bg-gray-100 rounded",children:"\uD83D\uDCDD Add Sample Row"}),(0,t.jsx)("button",{onClick:()=>{let e={id:eL(),description:"Product Item",sacHsn:"8471",quantity:1,unit:"PCS",rate:500,amount:500,cgstRate:9,cgstAmount:45,sgstRate:9,sgstAmount:45,totalWithGST:590,dates:[new Date().toISOString().split("T")[0]]};s(a=>({...a,items:[...a.items||[],e]})),d.Ay.success("Product row added!")},className:"jsx-5290aaac15de344a w-full text-left px-2 py-1 text-sm hover:bg-gray-100 rounded",children:"\uD83D\uDCE6 Add Product Row"}),(0,t.jsx)("button",{onClick:()=>K(!0),className:"jsx-5290aaac15de344a w-full text-left px-2 py-1 text-sm hover:bg-gray-100 rounded border-t border-gray-200 mt-1 pt-1",children:"\uD83D\uDD22 Bulk Add Rows"})]})]})})]}),(0,t.jsxs)("button",{onClick:()=>z(!0),title:"Bill Format Presets",className:"jsx-5290aaac15de344a inline-flex items-center gap-2 px-4 py-2 rounded-lg border-2 border-[#f59e0b] bg-[#fef3c7] text-[#f59e0b] font-semibold shadow-sm hover:bg-[#f59e0b] hover:text-white transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-[#f59e0b] focus:ring-offset-2",children:[(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"17,21 17,13 7,13 7,21",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"7,3 7,8 15,8",className:"jsx-5290aaac15de344a"})]}),(0,t.jsx)("span",{className:"jsx-5290aaac15de344a",children:"Bill Formats"})]}),(0,t.jsxs)("button",{onClick:()=>J(!0),title:"Print Preview",className:"jsx-5290aaac15de344a inline-flex items-center gap-2 px-4 py-2 rounded-lg border-2 border-[#6b7280] bg-[#f9fafb] text-[#6b7280] font-semibold shadow-sm hover:bg-[#6b7280] hover:text-white transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-[#6b7280] focus:ring-offset-2",children:[(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("polyline",{points:"6,9 6,2 18,2 18,9",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("path",{d:"M6,18H4a2,2,0,0,1-2-2V11a2,2,0,0,1,2-2H20a2,2,0,0,1,2,2v5a2,2,0,0,1-2,2H18",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("rect",{x:"6",y:"14",width:"12",height:"8",className:"jsx-5290aaac15de344a"})]}),(0,t.jsx)("span",{className:"jsx-5290aaac15de344a",children:"Print Preview"})]}),(0,t.jsxs)("button",{onClick:x,title:m?"Exit Fullscreen":"Enter Fullscreen",className:"jsx-5290aaac15de344a inline-flex items-center gap-2 px-4 py-2 rounded-lg border-2 border-[#8b5cf6] bg-[#f3f4f6] text-[#8b5cf6] font-semibold shadow-sm hover:bg-[#8b5cf6] hover:text-white transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-[#8b5cf6] focus:ring-offset-2",children:[(0,t.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:m?(0,t.jsx)("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3",className:"jsx-5290aaac15de344a"}):(0,t.jsx)("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3",className:"jsx-5290aaac15de344a"})}),(0,t.jsx)("span",{className:"jsx-5290aaac15de344a",children:m?"Exit Fullscreen":"Fullscreen"})]})]})]}),(0,t.jsx)("div",{className:"jsx-5290aaac15de344a bg-white shadow-xl border border-[#019b98]/30 rounded-xl overflow-hidden mt-4",children:(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a overflow-x-auto max-w-full",children:[(0,t.jsxs)("h3",{className:"jsx-5290aaac15de344a text-lg font-bold mb-2 flex items-center gap-2",children:[(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a text-[#019b98]",children:[(0,t.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"14,2 14,8 20,8",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"10,9 9,9 8,9",className:"jsx-5290aaac15de344a"})]}),(0,t.jsx)("input",{type:"text",value:b,onChange:e=>s(a=>({...a,tableTitle:e.target.value})),placeholder:"Table Title",className:"jsx-5290aaac15de344a font-bold text-lg border-none bg-slate-50 w-full rounded px-2 py-1 focus:ring-2 focus:ring-blue-200 focus:bg-white transition-all"}),(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",title:"Click to edit",className:"jsx-5290aaac15de344a text-gray-400",children:[(0,t.jsx)("path",{d:"M12 20h9",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z",className:"jsx-5290aaac15de344a"})]})]}),(0,t.jsx)(i.Mp,{sensors:er,collisionDetection:i.fp,onDragEnd:e=>{let{active:a,over:t}=e;if(t){if(String(a.id).startsWith("row-")&&String(t.id).startsWith("row-")){let e=j.findIndex((e,s)=>"row-".concat(e.id||s)===a.id),r=j.findIndex((e,a)=>"row-".concat(e.id||a)===t.id);if(-1!==e&&-1!==r){let a=(0,o.be)(j,e,r);s(e=>({...e,items:a}))}}if(String(a.id).startsWith("col-")&&String(t.id).startsWith("col-")){let e=g.findIndex((e,s)=>"col-".concat(e.key)===a.id),r=g.findIndex((e,a)=>"col-".concat(e.key)===t.id);if(-1!==e&&-1!==r){let a=(0,o.be)(g,e,r);s(e=>({...e,columns:a}))}}}},children:(0,t.jsx)(o.gB,{items:g.map(e=>"col-".concat(e.key)),strategy:o.m$,children:(0,t.jsx)(o.gB,{items:j.map((e,a)=>"row-".concat(e.id||a)),strategy:o._G,children:(0,t.jsxs)("table",{style:{color:"#000",tableLayout:"auto"},className:"jsx-5290aaac15de344a w-full text-xs print-safe-table border-separate border-spacing-0 min-w-max",children:[(0,t.jsx)("thead",{className:"jsx-5290aaac15de344a bg-[#019b98]/10",children:(0,t.jsxs)("tr",{className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("th",{style:{color:"#019b98",width:32},className:"jsx-5290aaac15de344a px-3 py-3 text-left font-bold border-b-2 border-[#019b98]/40"}),g.map((e,a)=>(0,t.jsxs)(eM,{col:e,idx:a,children:[(0,t.jsx)("input",{type:"text",value:e.label,onChange:t=>{let r=[...g];r[a]={...e,label:t.target.value},s(e=>({...e,columns:r}))},placeholder:"Column Title",style:{color:"#000"},className:"jsx-5290aaac15de344a font-bold text-xs border-none bg-transparent w-24 px-1 py-0.5 rounded focus:ring-2 focus:ring-blue-200 focus:bg-white transition-all"}),g.length>1&&(0,t.jsx)("button",{onClick:()=>{let t=e.key;s(e=>({...e,columns:g.filter((e,s)=>s!==a),items:j.map(e=>{let a={...e};return delete a[t],a})}))},title:"Remove column",style:{background:"#f1f5f9",border:"1px solid black",padding:"0px 5px",color:"#000",boxShadow:"none",lineHeight:"20px"},className:"jsx-5290aaac15de344a px-1 py-0.5 rounded bg-slate-100 border border-slate-200 text-slate-500 cursor-pointer text-sm ml-2",children:"\xd7"})]},e.key)),(0,t.jsx)("th",{style:{color:"#019b98"},className:"jsx-5290aaac15de344a px-3 py-3 text-left font-bold border-b-2 border-[#019b98]/40",children:"Action"})]})}),(0,t.jsx)("tbody",{className:"jsx-5290aaac15de344a",children:0===j.length?(0,t.jsx)("tr",{className:"jsx-5290aaac15de344a",children:(0,t.jsxs)("td",{colSpan:g.length+2,className:"jsx-5290aaac15de344a text-center py-4 text-[#019b98]/60",children:[(0,t.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#019b98",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a inline-block mr-2 icon-svg",children:[(0,t.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("path",{d:"M7 7h10M7 12h7M7 17h5",className:"jsx-5290aaac15de344a"})]}),"No items"]})}):(0,t.jsxs)(t.Fragment,{children:[$>1&&(0,t.jsx)("tr",{className:"jsx-5290aaac15de344a",children:(0,t.jsxs)("td",{colSpan:g.length+2,className:"jsx-5290aaac15de344a px-3 py-2 bg-slate-50 font-semibold text-sm",children:[(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a print-page-label",children:[b," — Page ",$," of"," ",es]}),b]})}),(()=>{let e=($-1)*Q;return j.slice(e,e+Q).map((a,r)=>{let l=e+r;return(0,t.jsxs)(eT,{row:a,rowIdx:l,children:[(0,t.jsx)("td",{style:{cursor:"grab",color:"#019b98",textAlign:"center",width:32},title:"Drag to reorder",className:"jsx-5290aaac15de344a",children:(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:(0,t.jsx)("path",{d:"M3 7h18v2H3V7zm0 4h18v2H3v-2zm0 4h18v2H3v-2z",className:"jsx-5290aaac15de344a"})})}),g.map(e=>{let s=e.type||"text",r=!1,n=a[e.key];return"formula"===e.type&&e.formula&&(r=!0),(0,t.jsx)("td",{style:{color:"#000"},className:"jsx-5290aaac15de344a px-3 py-2",children:(0,t.jsx)(eB,{row:a,rowIdx:l,col:e,inputType:s,readOnly:r,displayValue:n})},e.key)}),(0,t.jsx)("td",{style:{color:"#000"},className:"jsx-5290aaac15de344a px-3 py-2 text-center",children:(0,t.jsxs)("button",{onClick:()=>s(e=>({...e,items:j.filter((e,a)=>a!==l)})),title:"Remove item","aria-label":"Remove item",className:"jsx-5290aaac15de344a inline-flex items-center justify-center gap-1 px-2 py-1 rounded-md border-2 border-red-500 bg-red-50 text-red-500 font-semibold shadow-sm hover:bg-red-500 hover:text-white transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 text-sm",children:[(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a icon-svg",children:[(0,t.jsx)("polyline",{points:"3,6 5,6 21,6",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("path",{d:"M19,6v14a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6m3,0V4a2,2,0,0,1,2-2h4a2,2,0,0,1,2,2V6",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17",className:"jsx-5290aaac15de344a"})]}),(0,t.jsx)("span",{className:"jsx-5290aaac15de344a sr-only",children:"Remove"})]})})]},a.id||l)})})(),j.length>0&&(0,t.jsxs)("tr",{className:"jsx-5290aaac15de344a bg-gray-50 border-t-2 border-gray-300",children:[(0,t.jsx)("td",{colSpan:"2",className:"jsx-5290aaac15de344a px-3 py-2 font-bold text-gray-700",children:(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex items-center gap-2",children:[(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:(0,t.jsx)("path",{d:"M9 11H5a2 2 0 0 0-2 2v3c0 1.1.9 2 2 2h4m0-7v7m0-7h10a2 2 0 0 1 2 2v3c0 1.1-.9 2-2 2H9m0-7V9a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",className:"jsx-5290aaac15de344a"})}),(0,t.jsx)("span",{className:"jsx-5290aaac15de344a",children:"TOTALS"})]})}),g.map(e=>{let a=eA[e.key],s="number"===e.type||"formula"===e.type;return(0,t.jsx)("td",{className:"jsx-5290aaac15de344a "+"px-3 py-2 font-bold text-right ".concat(s?"text-green-700 bg-green-50":"text-gray-500"),children:s&&a?"quantity"===e.key?(0,t.jsx)("span",{className:"jsx-5290aaac15de344a flex items-center justify-end",children:(0,t.jsx)("span",{className:"jsx-5290aaac15de344a",children:a})}):(0,t.jsxs)("span",{className:"jsx-5290aaac15de344a flex items-center justify-end gap-1",children:[(0,t.jsx)("span",{className:"jsx-5290aaac15de344a",children:"₹"}),(0,t.jsx)("span",{className:"jsx-5290aaac15de344a",children:a})]}):(0,t.jsx)("span",{className:"jsx-5290aaac15de344a text-gray-400",children:"-"})},e.key)}),(0,t.jsx)("td",{className:"jsx-5290aaac15de344a px-3 py-2"})]}),(0,t.jsx)("tr",{className:"jsx-5290aaac15de344a",children:(0,t.jsx)("td",{colSpan:g.length+2,className:"jsx-5290aaac15de344a text-center py-2",children:(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex flex-col lg:flex-row items-center justify-between gap-4 p-2",children:[(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex items-center gap-2 order-1 lg:order-1",children:[(0,t.jsx)("label",{className:"jsx-5290aaac15de344a text-sm text-gray-600 font-medium whitespace-nowrap",children:"Rows per page:"}),(0,t.jsxs)("select",{value:Q,onChange:e=>{let a=Number(e.target.value);s(e=>({...e,rowsPerPage:a})),X(1)},className:"jsx-5290aaac15de344a border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-[#019b98] focus:border-transparent min-w-0",children:[(0,t.jsx)("option",{value:1,className:"jsx-5290aaac15de344a",children:"1"}),(0,t.jsx)("option",{value:5,className:"jsx-5290aaac15de344a",children:"5"}),(0,t.jsx)("option",{value:8,className:"jsx-5290aaac15de344a",children:"8"}),(0,t.jsx)("option",{value:10,className:"jsx-5290aaac15de344a",children:"10"})]})]}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex items-center gap-2 order-2 lg:order-2",children:[(0,t.jsxs)("button",{onClick:()=>X(e=>Math.max(1,e-1)),disabled:$<=1,"aria-label":"Previous page",className:"jsx-5290aaac15de344a "+"inline-flex items-center gap-1 px-2 sm:px-3 py-1 rounded-md border-2 border-[#019b98] bg-[#e6fcfa] text-[#019b98] font-semibold shadow-sm hover:bg-[#019b98] hover:text-white transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-[#019b98] focus:ring-offset-2 text-sm ".concat($<=1?"opacity-60 cursor-not-allowed":""),children:[(0,t.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a icon-svg",children:(0,t.jsx)("polyline",{points:"15,18 9,12 15,6",className:"jsx-5290aaac15de344a"})}),(0,t.jsx)("span",{className:"jsx-5290aaac15de344a hidden sm:inline",children:"Prev"})]}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a text-sm text-gray-600 px-1 sm:px-2 whitespace-nowrap",children:["Page ",$," / ",es]}),(0,t.jsxs)("button",{onClick:()=>X(e=>Math.min(es,e+1)),disabled:$>=es,"aria-label":"Next page",className:"jsx-5290aaac15de344a "+"inline-flex items-center gap-1 px-2 sm:px-3 py-1 rounded-md border-2 border-[#019b98] bg-[#e6fcfa] text-[#019b98] font-semibold shadow-sm hover:bg-[#019b98] hover:text-white transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-[#019b98] focus:ring-offset-2 text-sm ".concat($>=es?"opacity-60 cursor-not-allowed":""),children:[(0,t.jsx)("span",{className:"jsx-5290aaac15de344a hidden sm:inline",children:"Next"}),(0,t.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a icon-svg",children:(0,t.jsx)("polyline",{points:"9,18 15,12 9,6",className:"jsx-5290aaac15de344a"})})]})]}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex items-center gap-1 sm:gap-2 order-3 lg:order-3",children:[(0,t.jsxs)("button",{onClick:()=>eP(1),"aria-label":"Add page",title:"Add empty page",className:"jsx-5290aaac15de344a inline-flex items-center gap-1 px-2 sm:px-3 py-1 rounded-md border-2 border-[#ffd700] bg-[#fffbe6] text-[#bfa100] font-semibold shadow-sm hover:bg-[#ffd700] hover:text-[#311703] transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-[#ffd700] focus:ring-offset-2 text-sm",children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a icon-svg",children:[(0,t.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"14,2 14,8 20,8",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"10,9 9,9 8,9",className:"jsx-5290aaac15de344a"})]}),(0,t.jsx)("span",{className:"jsx-5290aaac15de344a hidden md:inline",children:"Add Page"})]}),(0,t.jsxs)("button",{onClick:()=>eP(-1),disabled:ee<=0,"aria-label":"Remove page",title:"Remove last empty page",className:"jsx-5290aaac15de344a "+"inline-flex items-center gap-1 px-2 sm:px-3 py-1 rounded-md border-2 border-[#ff7f50] bg-[#fff0ea] text-[#ff7f50] font-semibold shadow-sm hover:bg-[#ff7f50] hover:text-white transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-[#ff7f50] focus:ring-offset-2 text-sm ".concat(ee<=0?"opacity-60 cursor-not-allowed":""),children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a icon-svg",children:[(0,t.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"14,2 14,8 20,8",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"10,9 9,9 8,9",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"8",y1:"11",x2:"16",y2:"11",className:"jsx-5290aaac15de344a"})]}),(0,t.jsx)("span",{className:"jsx-5290aaac15de344a hidden md:inline",children:"Remove Page"})]})]})]})})})]})})]})})})})]})}),(0,t.jsx)(l(),{id:"1839418565b8d1e7",children:"@keyframes fadein{from{opacity:0;transform:translatey(16px)scale(.98)}to{opacity:1;transform:none}}.animate-fadein.jsx-5290aaac15de344a{animation:fadein.48s cubic-bezier(.4,0,.2,1)both}"}),I&&(0,t.jsx)("div",{className:"jsx-5290aaac15de344a fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a bg-white p-6 max-w-sm w-full mx-4 border border-gray-300",children:[(0,t.jsx)("h3",{className:"jsx-5290aaac15de344a text-sm font-bold mb-4",children:"Add Date to Item"}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a space-y-4",children:[(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("label",{className:"jsx-5290aaac15de344a block text-xs font-medium text-gray-700 mb-2",children:"Select Date"}),(0,t.jsx)("input",{type:"date",value:a.date,onChange:e=>s(a=>({...a,date:e.target.value})),className:"jsx-5290aaac15de344a w-full border-2 border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex space-x-3",children:[(0,t.jsxs)("button",{onClick:()=>et(I),className:"jsx-5290aaac15de344a flex-1 inline-flex items-center justify-center gap-1 bg-blue-600 text-white px-4 py-2 hover:bg-blue-700 transition-colors duration-300 text-sm",children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10",className:"jsx-5290aaac15de344a"})]}),"Add Date"]}),(0,t.jsxs)("button",{onClick:()=>E(null),className:"jsx-5290aaac15de344a flex-1 inline-flex items-center justify-center gap-1 bg-gray-300 text-gray-700 px-4 py-2 hover:bg-gray-400 transition-colors duration-300 text-sm",children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18",className:"jsx-5290aaac15de344a"})]}),"Cancel"]})]})]})]})}),B&&(0,t.jsx)("div",{className:"jsx-5290aaac15de344a fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a bg-white p-6 max-w-md w-full mx-4 border border-gray-300 rounded-xl shadow-xl",children:[(0,t.jsx)("h3",{className:"jsx-5290aaac15de344a text-base font-bold mb-3",children:"Presets"}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a space-y-3",children:[(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:H,onChange:e=>O(e.target.value),placeholder:"Preset name",className:"jsx-5290aaac15de344a flex-1 border border-gray-200 rounded px-2 py-1 text-sm"}),(0,t.jsxs)("button",{onClick:()=>(function(e){let a=(e||"").trim();if(!a)return void d.Ay.error("Please provide a preset name");eS([{id:String(Date.now()),name:a,columns:g.map(e=>({...e})),tableTitle:b},...T||[]]),d.Ay.success("Preset saved"),O(""),R(!1)})(H),className:"jsx-5290aaac15de344a inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"17,21 17,13 7,13 7,21",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"7,3 7,8 15,8",className:"jsx-5290aaac15de344a"})]}),"Save"]})]}),(0,t.jsx)("div",{className:"jsx-5290aaac15de344a max-h-56 overflow-auto border-t border-gray-100 pt-2",children:0===(T||[]).length?(0,t.jsx)("div",{className:"jsx-5290aaac15de344a text-sm text-gray-500",children:"No presets saved"}):(T||[]).map(e=>(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex items-center justify-between py-2 border-b border-gray-50",children:[(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("div",{className:"jsx-5290aaac15de344a font-medium text-sm",children:e.name}),(0,t.jsx)("div",{className:"jsx-5290aaac15de344a text-xs text-gray-500",children:(e.columns||[]).map(e=>e.label).join(", ")})]}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{e&&(s(a=>{let s=e.columns||[],t=(a.items||[]).map(e=>{let a={...e};return s.forEach(e=>{e.key in a||(a[e.key]="quantity"===e.key?"1":"")}),eI(a)});return{...a,columns:s,tableTitle:e.tableTitle||a.tableTitle,items:t}}),d.Ay.success("Preset loaded"),R(!1))},className:"jsx-5290aaac15de344a inline-flex items-center gap-1 px-2 py-1 bg-slate-100 text-slate-700 text-sm rounded hover:bg-slate-200 transition-colors",children:[(0,t.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"7,10 12,15 17,10",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3",className:"jsx-5290aaac15de344a"})]}),"Load"]}),(0,t.jsxs)("button",{onClick:()=>{var a;return a=e.id,void(eS((T||[]).filter(e=>e.id!==a)),d.Ay.success("Preset deleted"))},className:"jsx-5290aaac15de344a inline-flex items-center gap-1 px-2 py-1 bg-red-50 text-red-600 text-sm rounded hover:bg-red-100 transition-colors",children:[(0,t.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("polyline",{points:"3,6 5,6 21,6",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("path",{d:"M19,6v14a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6m3,0V4a2,2,0,0,1,2-2h4a2,2,0,0,1,2,2V6",className:"jsx-5290aaac15de344a"})]}),"Delete"]})]})]},e.id))}),(0,t.jsx)("div",{className:"jsx-5290aaac15de344a flex justify-end mt-3",children:(0,t.jsxs)("button",{onClick:()=>R(!1),className:"jsx-5290aaac15de344a inline-flex items-center gap-1 px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18",className:"jsx-5290aaac15de344a"})]}),"Close"]})})]})]})}),v&&(0,t.jsx)("div",{className:"jsx-5290aaac15de344a fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a bg-white p-6 rounded-lg w-96 border border-gray-200 shadow-xl",children:[(0,t.jsx)("h3",{className:"jsx-5290aaac15de344a text-base font-bold mb-3",children:"Where to add the new row?"}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a space-y-2",children:[(0,t.jsxs)("label",{className:"jsx-5290aaac15de344a flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"addwhere",checked:"current"===w,onChange:()=>k("current"),className:"jsx-5290aaac15de344a"}),(0,t.jsxs)("span",{className:"jsx-5290aaac15de344a text-sm",children:["Current page (Page ",$,")"]})]}),(0,t.jsxs)("label",{className:"jsx-5290aaac15de344a flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"addwhere",checked:"specific"===w,onChange:()=>k("specific"),className:"jsx-5290aaac15de344a"}),(0,t.jsx)("span",{className:"jsx-5290aaac15de344a text-sm",children:"Specific page"})]}),"specific"===w&&(0,t.jsx)("div",{className:"jsx-5290aaac15de344a pl-6",children:(0,t.jsx)("input",{type:"number",min:1,max:Math.max(1,es),value:S,onChange:e=>C(Number(e.target.value)),className:"jsx-5290aaac15de344a w-24 border border-gray-200 rounded px-2 py-1 text-sm"})}),(0,t.jsxs)("label",{className:"jsx-5290aaac15de344a flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"addwhere",checked:"last"===w,onChange:()=>k("last"),className:"jsx-5290aaac15de344a"}),(0,t.jsx)("span",{className:"jsx-5290aaac15de344a text-sm",children:"Last page"})]}),(0,t.jsxs)("label",{className:"jsx-5290aaac15de344a flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"addwhere",checked:"new"===w,onChange:()=>k("new"),className:"jsx-5290aaac15de344a"}),(0,t.jsx)("span",{className:"jsx-5290aaac15de344a text-sm",children:"Create a new page and add"})]})]}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex justify-end gap-2 mt-4",children:[(0,t.jsxs)("button",{onClick:()=>{N(!1)},className:"jsx-5290aaac15de344a inline-flex items-center gap-1 px-3 py-1 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300 transition-colors",children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18",className:"jsx-5290aaac15de344a"})]}),"Cancel"]}),(0,t.jsxs)("button",{onClick:()=>eD(w,S),className:"jsx-5290aaac15de344a inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:[(0,t.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:(0,t.jsx)("polyline",{points:"20,6 9,17 4,12",className:"jsx-5290aaac15de344a"})}),"Confirm"]})]})]})}),el&&(0,t.jsx)("div",{className:"jsx-5290aaac15de344a fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a bg-white p-6 max-w-md w-full mx-4 border border-gray-300 rounded-xl shadow-xl",children:[(0,t.jsx)("h3",{className:"jsx-5290aaac15de344a text-base font-bold mb-3",children:"Column"}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a space-y-3",children:[(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("label",{className:"jsx-5290aaac15de344a block text-xs font-medium text-gray-700 mb-1",children:"Label"}),(0,t.jsx)("input",{value:eh,onChange:e=>ep(e.target.value),placeholder:"Column label",className:"jsx-5290aaac15de344a w-full border border-gray-200 rounded px-2 py-1 text-sm"})]}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("label",{className:"jsx-5290aaac15de344a block text-xs font-medium text-gray-700 mb-1",children:"Column Type"}),(0,t.jsx)("select",{value:ed,onChange:e=>{ex(e.target.value),"formula"!==e.target.value&&(eu(""),ej(null),ef(!0))},className:"jsx-5290aaac15de344a w-full border border-gray-200 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"text",label:"Text"},{value:"number",label:"Number"},{value:"date",label:"Date"},{value:"formula",label:"Formula"}].map(e=>(0,t.jsxs)("option",{value:e.value,className:"jsx-5290aaac15de344a",children:[e.label," ","formula"===e.value?"(Calculated)":"number"===e.value?"(Numeric)":"date"===e.value?"(Date Picker)":"(Text Input)"]},e.value))}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a text-xs text-gray-500 mt-1",children:["text"===ed&&"Free text input","number"===ed&&"Numeric input with decimal support","date"===ed&&"Date picker input","formula"===ed&&"Calculated field based on other columns"]})]}),"formula"===ed&&(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("label",{className:"jsx-5290aaac15de344a block text-xs font-medium text-gray-700 mb-1",children:"Formula Expression"}),(0,t.jsx)("input",{value:em,onChange:e=>eu(e.target.value),placeholder:"e.g. quantity*rate, amount*0.09, (qty*rate)+tax",className:"jsx-5290aaac15de344a w-full border border-gray-200 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,t.jsx)("div",{className:"jsx-5290aaac15de344a text-xs text-gray-500 mt-1",children:"Use column names as variables. Examples: quantity*rate, amount*0.09, (qty*rate)+tax"}),eg&&(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a text-red-500 text-xs mt-1 font-medium",children:["❌ ",eg]}),!eg&&em&&(0,t.jsx)("div",{className:"jsx-5290aaac15de344a text-green-600 text-xs mt-1 font-medium",children:"✅ Formula is valid"})]}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a pt-2",children:[(0,t.jsx)("label",{className:"jsx-5290aaac15de344a block text-xs font-medium text-gray-700 mb-1",children:"Apply column to"}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a space-y-2",children:[(0,t.jsxs)("label",{className:"jsx-5290aaac15de344a flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"colscope",checked:"current"===ey,onChange:()=>ev("current"),className:"jsx-5290aaac15de344a"})," ",(0,t.jsxs)("span",{className:"jsx-5290aaac15de344a text-sm",children:["Current page (Page ",$,")"]})]}),(0,t.jsxs)("label",{className:"jsx-5290aaac15de344a flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"colscope",checked:"specific"===ey,onChange:()=>ev("specific"),className:"jsx-5290aaac15de344a"})," ",(0,t.jsx)("span",{className:"jsx-5290aaac15de344a text-sm",children:"Specific page"})]}),"specific"===ey&&(0,t.jsx)("div",{className:"jsx-5290aaac15de344a pl-6",children:(0,t.jsx)("input",{type:"number",min:1,max:Math.max(1,es),value:eN,onChange:e=>ew(Number(e.target.value)),className:"jsx-5290aaac15de344a w-24 border border-gray-200 rounded px-2 py-1 text-sm"})}),(0,t.jsxs)("label",{className:"jsx-5290aaac15de344a flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"colscope",checked:"all"===ey,onChange:()=>ev("all"),className:"jsx-5290aaac15de344a"})," ",(0,t.jsx)("span",{className:"jsx-5290aaac15de344a text-sm",children:"All pages"})]})]})]}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex justify-end gap-2 mt-2",children:[(0,t.jsxs)("button",{onClick:()=>{en(!1),eo(null),ev("current"),ew(1)},className:"jsx-5290aaac15de344a inline-flex items-center gap-1 px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18",className:"jsx-5290aaac15de344a"})]}),"Cancel"]}),(0,t.jsxs)("button",{onClick:()=>{!function(){if(!ei)return;ei.idx;let e=null==ei.col,a="col".concat(g.length+1),t=e?"".concat(a,"-").concat(Date.now().toString(36)):ei.col.key,r={key:t,label:ei.col?ei.col.label:"Column ".concat(g.length+1),type:ed||"text",formula:"formula"===ed?em:void 0};s(a=>{let s=a.columns||u;if(!e){let e=s.map(e=>e.key===ei.col.key?{...e,...r}:e),t=(a.items||[]).map(e=>eI(e));return{...a,columns:e,items:t}}let l=[...s,r],n=[...a.items||[]],i=(e,a)=>{let s="quantity"===r.key||"number"===r.type&&(String(r.label||"").toLowerCase().includes("qty")||String(r.label||"").toLowerCase().includes("quantity"))?"1":"";for(let r=e;r<a&&r<n.length;r++)n[r]=eI({...n[r]||{},[t]:s})};if("all"===ey){let e="quantity"===r.key||"number"===r.type&&(String(r.label||"").toLowerCase().includes("qty")||String(r.label||"").toLowerCase().includes("quantity"))?"1":"";for(let a=0;a<n.length;a++)n[a]=eI({...n[a]||{},[t]:e})}else if("specific"===ey){let e=(Math.min(Math.max(1,eN||$),Math.max(1,Math.ceil(n.length/Q)||1))-1)*Q;i(e,e+Q)}else{let e=($-1)*Q;i(e,e+Q)}return{...a,columns:l,items:n}}),eo(null),eu(""),ex("text"),en(!1),d.Ay.success(e?"Column added to current page":"Column updated")}(),ev("current"),ew(1)},disabled:"formula"===ed&&!eb,className:"jsx-5290aaac15de344a inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:(0,t.jsx)("polyline",{points:"20,6 9,17 4,12",className:"jsx-5290aaac15de344a"})}),"Save"]})]})]})]})}),F&&(0,t.jsx)("div",{className:"jsx-5290aaac15de344a fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a bg-white p-6 max-w-2xl w-full mx-4 border border-gray-300 rounded-xl shadow-xl",children:[(0,t.jsxs)("h3",{className:"jsx-5290aaac15de344a text-lg font-bold mb-4 flex items-center gap-2",children:[(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a text-[#f59e0b]",children:[(0,t.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"17,21 17,13 7,13 7,21",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"7,3 7,8 15,8",className:"jsx-5290aaac15de344a"})]}),"Bill Format Presets"]}),(0,t.jsx)("p",{className:"jsx-5290aaac15de344a text-sm text-gray-600 mb-4",children:"Save and load complete bill formats including table structure, column types, and settings."}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a space-y-4",children:[(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex gap-2 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)("input",{type:"text",value:_,onChange:e=>V(e.target.value),placeholder:"Enter preset name (e.g., 'Standard Invoice', 'Service Bill')",className:"jsx-5290aaac15de344a flex-1 border border-gray-200 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#f59e0b] focus:border-transparent"}),(0,t.jsxs)("button",{onClick:()=>(function(e){let s=(e||"").trim();if(!s)return void d.Ay.error("Please provide a preset name");eC([{id:String(Date.now()),name:s,billData:{...a,columns:g.map(e=>({...e})),tableTitle:b,rowsPerPage:Q,manualExtraPages:ee},savedAt:new Date().toISOString(),description:"Bill format with ".concat(g.length," columns: ").concat(g.map(e=>e.label).join(", "))},...G||[]]),d.Ay.success("Bill format preset saved"),V(""),z(!1)})(_),className:"jsx-5290aaac15de344a inline-flex items-center gap-1 px-4 py-2 bg-[#f59e0b] text-white rounded text-sm hover:bg-[#d97706] transition-colors",children:[(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"17,21 17,13 7,13 7,21",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"7,3 7,8 15,8",className:"jsx-5290aaac15de344a"})]}),"Save Format"]})]}),(0,t.jsx)("div",{className:"jsx-5290aaac15de344a max-h-80 overflow-auto border border-gray-200 rounded-lg",children:0===(G||[]).length?(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a p-8 text-center text-gray-500",children:[(0,t.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a mx-auto mb-3 text-gray-400",children:[(0,t.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"17,21 17,13 7,13 7,21",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"7,3 7,8 15,8",className:"jsx-5290aaac15de344a"})]}),(0,t.jsx)("p",{className:"jsx-5290aaac15de344a text-sm",children:"No bill format presets saved yet"}),(0,t.jsx)("p",{className:"jsx-5290aaac15de344a text-xs text-gray-400 mt-1",children:"Create your first preset above"})]}):(G||[]).map(e=>(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex items-center justify-between p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex-1",children:[(0,t.jsx)("div",{className:"jsx-5290aaac15de344a font-medium text-sm text-gray-900",children:e.name}),(0,t.jsx)("div",{className:"jsx-5290aaac15de344a text-xs text-gray-500 mt-1",children:e.description}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a text-xs text-gray-400 mt-1",children:["Saved: ",new Date(e.savedAt).toLocaleDateString()]})]}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{e&&e.billData&&(s(a=>({...a,...e.billData,items:e.billData.items||[{id:eL(),description:"",sacHsn:"",quantity:1,unit:"PCS",rate:0,amount:0,cgstRate:9,cgstAmount:0,sgstRate:9,sgstAmount:0,totalWithGST:0,dates:[new Date().toISOString().split("T")[0]]}]})),X(1),ea(e.billData.manualExtraPages||0),d.Ay.success("Bill format preset loaded"),z(!1))},className:"jsx-5290aaac15de344a inline-flex items-center gap-1 px-3 py-1 bg-blue-50 text-blue-600 text-sm rounded hover:bg-blue-100 transition-colors",children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("polyline",{points:"7,10 12,15 17,10",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3",className:"jsx-5290aaac15de344a"})]}),"Load"]}),(0,t.jsxs)("button",{onClick:()=>{var a;return a=e.id,void(eC((G||[]).filter(e=>e.id!==a)),d.Ay.success("Bill format preset deleted"))},className:"jsx-5290aaac15de344a inline-flex items-center gap-1 px-3 py-1 bg-red-50 text-red-600 text-sm rounded hover:bg-red-100 transition-colors",children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("polyline",{points:"3,6 5,6 21,6",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("path",{d:"M19,6v14a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6m3,0V4a2,2,0,0,1,2-2h4a2,2,0,0,1,2,2V6",className:"jsx-5290aaac15de344a"})]}),"Delete"]})]})]},e.id))}),(0,t.jsx)("div",{className:"jsx-5290aaac15de344a flex justify-end",children:(0,t.jsxs)("button",{onClick:()=>z(!1),className:"jsx-5290aaac15de344a inline-flex items-center gap-1 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18",className:"jsx-5290aaac15de344a"})]}),"Close"]})})]})]})}),q&&(0,t.jsx)("div",{className:"jsx-5290aaac15de344a fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a bg-white p-6 max-w-6xl w-full mx-4 border border-gray-300 rounded-xl shadow-xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"jsx-5290aaac15de344a text-lg font-bold flex items-center gap-2",children:[(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a text-gray-600",children:[(0,t.jsx)("polyline",{points:"6,9 6,2 18,2 18,9",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("path",{d:"M6,18H4a2,2,0,0,1-2-2V11a2,2,0,0,1,2-2H20a2,2,0,0,1,2,2v5a2,2,0,0,1-2,2H18",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("rect",{x:"6",y:"14",width:"12",height:"8",className:"jsx-5290aaac15de344a"})]}),"Print Preview"]}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>window.print(),className:"jsx-5290aaac15de344a inline-flex items-center gap-1 px-4 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:[(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("polyline",{points:"6,9 6,2 18,2 18,9",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("path",{d:"M6,18H4a2,2,0,0,1-2-2V11a2,2,0,0,1,2-2H20a2,2,0,0,1,2,2v5a2,2,0,0,1-2,2H18",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("rect",{x:"6",y:"14",width:"12",height:"8",className:"jsx-5290aaac15de344a"})]}),"Print"]}),(0,t.jsxs)("button",{onClick:()=>J(!1),className:"jsx-5290aaac15de344a inline-flex items-center gap-1 px-4 py-2 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300 transition-colors",children:[(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18",className:"jsx-5290aaac15de344a"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18",className:"jsx-5290aaac15de344a"})]}),"Close"]})]})]}),(0,t.jsx)("div",{className:"jsx-5290aaac15de344a flex-1 overflow-auto border border-gray-200 rounded-lg bg-white",children:(0,t.jsxs)("div",{id:"print-content",className:"jsx-5290aaac15de344a p-6 print:p-4",children:[(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a text-center mb-6 print:mb-4",children:[(0,t.jsx)("h1",{className:"jsx-5290aaac15de344a text-2xl font-bold text-gray-900 mb-2 print:text-xl",children:b}),(0,t.jsxs)("p",{className:"jsx-5290aaac15de344a text-sm text-gray-600 print:text-xs",children:["Generated on ",new Date().toLocaleDateString()," at"," ",new Date().toLocaleTimeString()]})]}),(0,t.jsx)("div",{className:"jsx-5290aaac15de344a overflow-x-auto",children:(0,t.jsxs)("table",{className:"jsx-5290aaac15de344a w-full border-collapse border border-gray-400 text-sm print:text-xs",children:[(0,t.jsx)("thead",{className:"jsx-5290aaac15de344a",children:(0,t.jsxs)("tr",{className:"jsx-5290aaac15de344a bg-gray-100",children:[(0,t.jsx)("th",{className:"jsx-5290aaac15de344a border border-gray-400 px-3 py-2 text-left font-semibold",children:"#"}),g.sort((e,a)=>{let s=["srNoDate","refNo","description","sacHsn","quantity","rate","amount","cgstAmount","sgstAmount","totalWithGST"],t=s.indexOf(e.key),r=s.indexOf(a.key);return -1===t&&-1===r?0:-1===t?1:-1===r?-1:t-r}).map(e=>(0,t.jsx)("th",{className:"jsx-5290aaac15de344a border border-gray-400 px-3 py-2 text-left font-semibold",children:e.label},e.key))]})}),(0,t.jsxs)("tbody",{className:"jsx-5290aaac15de344a",children:[j.map((e,a)=>(0,t.jsxs)("tr",{className:"jsx-5290aaac15de344a hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"jsx-5290aaac15de344a border border-gray-400 px-3 py-2",children:a+1}),g.sort((e,a)=>{let s=["srNoDate","refNo","description","sacHsn","quantity","rate","amount","cgstAmount","sgstAmount","totalWithGST"],t=s.indexOf(e.key),r=s.indexOf(a.key);return -1===t&&-1===r?0:-1===t?1:-1===r?-1:t-r}).map(a=>{var s;let r=null!=(s=e[a.key])?s:"";if("formula"===a.type&&a.formula)try{let s={};g.forEach(a=>{let t=e[a.key];if(""===t||null==t)s[a.key]=0;else if(Array.isArray(t))s[a.key]=0;else{let e=Number(t);s[a.key]=isNaN(e)?0:e}});let t=p.compile(a.formula).evaluate(s);r="number"==typeof t?t.toFixed(2):String(t)}catch(e){r="Err"}return(0,t.jsx)("td",{className:"jsx-5290aaac15de344a border border-gray-400 px-3 py-2",children:r},a.key)})]},e.id||a)),j.length>0&&(0,t.jsxs)("tr",{className:"jsx-5290aaac15de344a bg-gray-100 font-bold",children:[(0,t.jsx)("td",{colSpan:"2",className:"jsx-5290aaac15de344a border border-gray-400 px-3 py-2",children:"TOTALS"}),g.sort((e,a)=>{let s=["srNoDate","refNo","description","sacHsn","quantity","rate","amount","cgstAmount","sgstAmount","totalWithGST"],t=s.indexOf(e.key),r=s.indexOf(a.key);return -1===t&&-1===r?0:-1===t?1:-1===r?-1:t-r}).map(e=>{let a=eA[e.key],s="number"===e.type||"formula"===e.type,r="-";return s&&a&&(r="quantity"===e.key?a:"₹".concat(a)),(0,t.jsx)("td",{className:"jsx-5290aaac15de344a border border-gray-400 px-3 py-2 text-right",children:r},e.key)})]})]})]})}),(0,t.jsx)("div",{className:"jsx-5290aaac15de344a mt-6 pt-4 border-t border-gray-300 print:mt-4 print:pt-2",children:(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a text-xs text-gray-500 text-center",children:[(0,t.jsx)("p",{className:"jsx-5290aaac15de344a",children:"This document was generated by PEIPL Bill Maker"}),(0,t.jsxs)("p",{className:"jsx-5290aaac15de344a",children:["Page 1 of 1 • ",new Date().toLocaleDateString()]})]})})]})})]})}),U&&(0,t.jsx)("div",{className:"jsx-5290aaac15de344a fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a bg-white p-6 max-w-md w-full mx-4 border border-gray-300 rounded-xl shadow-xl",children:[(0,t.jsxs)("h3",{className:"jsx-5290aaac15de344a text-lg font-bold mb-4 flex items-center gap-2",children:[(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5290aaac15de344a text-green-600",children:(0,t.jsx)("path",{d:"M3 6h18M3 12h18M3 18h18",className:"jsx-5290aaac15de344a"})}),"Bulk Add Rows"]}),(0,t.jsx)("p",{className:"jsx-5290aaac15de344a text-sm text-gray-600 mb-4",children:"Add multiple rows at once to your table."}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a space-y-4",children:[(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a",children:[(0,t.jsx)("label",{className:"jsx-5290aaac15de344a block text-sm font-medium text-gray-700 mb-2",children:"Number of rows to add"}),(0,t.jsx)("input",{type:"number",min:"1",max:"50",value:Y,onChange:e=>Z(Math.max(1,Math.min(50,parseInt(e.target.value)||1))),className:"jsx-5290aaac15de344a w-full border border-gray-200 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),(0,t.jsx)("div",{className:"jsx-5290aaac15de344a text-xs text-gray-500 mt-1",children:"You can add between 1 and 50 rows at once"})]}),(0,t.jsxs)("div",{className:"jsx-5290aaac15de344a flex justify-end gap-2",children:[(0,t.jsx)("button",{onClick:()=>K(!1),className:"jsx-5290aaac15de344a px-4 py-2 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{let e=[];for(let a=0;a<Y;a++)e.push({id:eL(),description:"",sacHsn:"",quantity:1,unit:"PCS",rate:0,amount:0,cgstRate:9,cgstAmount:0,sgstRate:9,sgstAmount:0,totalWithGST:0,dates:[new Date().toISOString().split("T")[0]]});s(a=>({...a,items:[...a.items||[],...e]})),d.Ay.success("".concat(Y," rows added successfully!")),K(!1),Z(1)},className:"jsx-5290aaac15de344a px-4 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors",children:["Add ",Y," Row",Y>1?"s":""]})]})]})]})})]})}},34772:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>j});var t=s(95155),r=s(12115),l=s(67909);async function n(){await new Promise(e=>{let a=new window.Image;a.src="./logo.png",a.onload=()=>e(),a.onerror=()=>e()}),document.fonts&&document.fonts.ready&&await document.fonts.ready}function i(e){let{onComplete:a}=e,[s,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=setTimeout(()=>l(!0),300),s=setTimeout(()=>o(!0),700);return n().then(()=>{setTimeout(()=>{null==a||a()},700)}),()=>{clearTimeout(e),clearTimeout(s)}},[a]),(0,t.jsxs)("div",{className:"fixed inset-0 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex flex-col items-center justify-center z-50",children:[(0,t.jsxs)("div",{className:"absolute inset-0",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-100/30 to-indigo-100/30 animate-pulse"}),(0,t.jsx)("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none'%3E%3Cg fill='%236366f1' fill-opacity='0.1'%3E%3Ccircle cx='50' cy='50' r='3'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}})]}),(0,t.jsx)("div",{className:"transition-all duration-1000 relative z-10 ".concat(s?"opacity-100 scale-100":"opacity-0 scale-90"),children:(0,t.jsx)("div",{className:"w-48 h-48 md:w-56 md:h-56 bg-white shadow-xl border border-gray-200 flex items-center justify-center rounded-2xl hover:shadow-2xl transition-all duration-500",children:(0,t.jsx)("img",{src:"./logo.png",alt:"Company Logo",width:160,height:160,className:"object-contain transition-transform duration-700 hover:scale-110"})})}),(0,t.jsx)("h1",{className:"mt-8 text-2xl md:text-4xl font-bold text-gray-800 tracking-wide transition-all duration-1000 ".concat(i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"),children:"PUJARI ENGINEERS INDIA PVT LTD"})]})}var o=s(22663);let c=(0,r.memo)(s(2598).A),d=(0,r.memo)(s(64935).A),x=(0,r.memo)(s(22259).A),m=(0,r.memo)(s(38868).A),u=(0,r.memo)(s(46914).A),h=(0,l.default)(()=>Promise.all([s.e(33),s.e(930),s.e(316),s.e(997),s.e(643)]).then(s.bind(s,70643)),{loadableGenerated:{webpack:()=>[70643]},ssr:!1}),p=(0,l.default)(()=>s.e(701).then(s.bind(s,86701)),{loadableGenerated:{webpack:()=>[86701]},ssr:!1}),g=(0,l.default)(()=>s.e(201).then(s.bind(s,43201)),{loadableGenerated:{webpack:()=>[43201]},ssr:!1});function j(){let[e,a]=(0,r.useState)(!0),[s,l]=(0,r.useState)(!1),[n,j]=(0,r.useState)(!1),[b,f]=(0,r.useState)([]),[y,v]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)(!1),[C,A]=(0,r.useState)(!1),[L,I]=(0,r.useState)({billNumber:(()=>{let e=new Date,a=e.getMonth()+1,s=e.getFullYear(),t=a<=3?s-1:s,r=t+1,l="".concat(t.toString().slice(-2)).concat(r.toString().slice(-2));return"PEIPLCH".concat(l,"/01")})(),date:new Date().toISOString().split("T")[0],customerName:"RASHTRIYA CHEMICALS & FERTILIZERS LTD",plantName:"AMMONIA V PLANT",customerAddress:"TROMBAY UNIT\nMUMBAI.400 074",customerPhone:"",customerGST:"27AAACR2831H1ZK",items:[{id:1,description:"",sacHsn:"",quantity:1,unit:"PCS",rate:0,amount:0,cgstRate:9,cgstAmount:0,sgstRate:9,sgstAmount:0,totalWithGST:0,dates:[new Date().toISOString().split("T")[0]]}]}),[E,P]=(0,r.useState)({name:"PUJARI ENGINEERS INDIA (P) LTD.",services:"ONLINE LEAK SEALING • INSULATION HOT TIGHTING • METAL STITCHING • SPARE PARTS SUPPLIERS & LABOUR SUPPLIERS",address:"B-21, Flat No.101, Siddeshwar Co-op Hsg. Soc; Sector-9, Gharonda, Ghansoli, Navi, Mumbai -400 701.",phone:"9820027556",email:"spujari79@gmail.com",gst:"27AADCP2938G1ZD",pan:"AADCP2938G"}),[D,T]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!e&&!C){f(JSON.parse(localStorage.getItem("savedBills")||"[]"));let e=JSON.parse(localStorage.getItem("companyInfo")||"null");e&&P(e);let a=()=>{j(!0)};document.addEventListener("openCredentialManager",a);let s=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},t=e=>{e.preventDefault(),e.stopPropagation(),w(!0)},r=e=>{e.preventDefault(),e.stopPropagation(),e.relatedTarget&&e.relatedTarget!==document.documentElement||w(!1)},l=async e=>{e.preventDefault(),e.stopPropagation(),w(!1);let a=Array.from(e.dataTransfer.files).filter(e=>"application/json"===e.type||e.name.endsWith(".json"));if(a.length>0){let e=a[0];try{o.Ay.loading("Loading file...",{id:"file-loading"});let a=await e.text(),s=JSON.parse(a);await M(s,e.name),o.Ay.success("File loaded successfully!",{id:"file-loading"})}catch(e){console.error("Error reading dropped file:",e),o.Ay.error("Error reading file. Please ensure it's a valid JSON file.",{id:"file-loading"})}}else o.Ay.error("Please drop a valid JSON file.")};document.addEventListener("dragover",s),document.addEventListener("dragenter",t),document.addEventListener("dragleave",r),document.addEventListener("drop",l);let n={billNumber:"RCF-"+new Date().getFullYear()+"-"+String(new Date().getMonth()+1).padStart(2,"0"),date:new Date().toISOString().split("T")[0],customerName:"RASHTRIYA CHEMICALS & FERTILIZERS LTD",plantName:"AMMONIA V PLANT",customerAddress:"TROMBAY UNIT\nMUMBAI.400 074",customerPhone:"",customerGST:"27AAACR2831H1ZK",items:[{id:1,description:"",sacHsn:"",quantity:1,unit:"PCS",rate:0,cgstRate:9,cgstAmount:0,sgstRate:9,sgstAmount:0,totalWithGST:0,dates:[new Date().toISOString().split("T")[0]]}]},i=JSON.parse(localStorage.getItem("savedBills")||"[]"),c={...n,companyInfo:{name:"PUJARI ENGINEERS INDIA (P) LTD.",services:"ONLINE LEAK SEALING • INSULATION HOT TIGHTING • METAL STITCHING • SPARE PARTS SUPPLIERS & LABOUR SUPPLIERS",address:"B-21, Flat No.101, Siddeshwar Co-op Hsg. Soc; Sector-9, Gharonda, Ghansoli, Navi, Mumbai -400 701.",phone:"9820027556",email:"spujari79@gmail.com",gst:"27AADCP2938G1ZD",pan:"AADCP2938G"},savedBy:"System",savedAt:new Date().toISOString(),billName:"rcf chembur",total:0},d=i.findIndex(e=>"rcf chembur"===e.billName);return d>=0?i[d]=c:i.push(c),localStorage.setItem("savedBills",JSON.stringify(i)),f(i),window.electronAPI&&(window.electronAPI.onOpenBillFile(()=>{B()}),window.electronAPI.onSaveBillFile(()=>{R()}),window.electronAPI.onOpenFile(e=>{let{data:a,filePath:s}=e;try{let e=JSON.parse(a);M(e,s),o.Ay.success("Bill loaded from file association: ".concat(s))}catch(e){o.Ay.error("Invalid JSON file from file association.")}}),window.electronAPI.onOpenFileError(e=>{let{error:a,filePath:s}=e;o.Ay.error("Error opening file: ".concat(a))})),A(!0),()=>{document.removeEventListener("openCredentialManager",a),document.removeEventListener("dragover",s),document.removeEventListener("dragenter",t),document.removeEventListener("dragleave",r),document.removeEventListener("drop",l),window.electronAPI&&(window.electronAPI.removeAllListeners("open-bill-file"),window.electronAPI.removeAllListeners("save-bill-file"),window.electronAPI.removeAllListeners("open-file"),window.electronAPI.removeAllListeners("open-file-error"))}}},[e,C]);let M=async(e,a)=>{try{if(!e||"object"!=typeof e)throw Error("Invalid file format. Please select a valid bill JSON file.");if(e.billData&&e.name&&e.savedAt){o.Ay.info("Loading bill format preset..."),e.billData.billData?I(e.billData.billData):I(e.billData),e.billData.companyInfo&&P(e.billData.companyInfo),o.Ay.success('Bill format preset "'.concat(e.name,'" loaded successfully!'));return}e.billData?I(e.billData):I(e),e.companyInfo&&P(e.companyInfo);let s=e.billData||e;s.items&&Array.isArray(s.items)||(o.Ay.warning("Loaded file doesn't contain bill items. Starting with empty bill."),I(e=>({...e,items:[{id:1,description:"",sacHsn:"",quantity:1,unit:"PCS",rate:0,amount:0,cgstRate:9,cgstAmount:0,sgstRate:9,sgstAmount:0,totalWithGST:0,dates:[new Date().toISOString().split("T")[0]]}]}))),o.Ay.success("Bill loaded successfully from: ".concat(a))}catch(e){console.error("Error loading bill data:",e),o.Ay.error("Error loading bill data: ".concat(e.message))}},B=async()=>{if(!window.electronAPI){let e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=>{let a=e.target.files[0];if(a)try{let e=await a.text(),s=JSON.parse(e);await M(s,a.name)}catch(e){console.error("Error reading file:",e),o.Ay.error("Error reading file. Please ensure it's a valid JSON file.")}},e.click();return}try{let e=await window.electronAPI.openFile();e.success?await M(e.data,e.filePath):o.Ay.error("Error loading bill: ".concat(e.error))}catch(e){console.error("Error opening bill file:",e),o.Ay.error("Error opening bill file. Please try again.")}},R=async()=>{try{let{subtotal:e,totalCGST:a,totalSGST:s,total:t,...r}=L,l={...r,companyInfo:E,savedAt:new Date().toISOString()};if(window.electronAPI){let e=await window.electronAPI.saveFile(l);e.success?o.Ay.success("Bill saved successfully to: ".concat(e.filePath)):o.Ay.error("Error saving bill: ".concat(e.error))}else{let e=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),a=URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download="bill_".concat(L.billNumber||"invoice","_").concat(new Date().toISOString().slice(0,10),".json"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a),o.Ay.success("Bill downloaded successfully!")}}catch(e){console.error("Error saving bill file:",e),o.Ay.error("Error saving bill file. Please try again.")}};(0,r.useEffect)(()=>{try{localStorage.setItem("companyInfo",JSON.stringify(E))}catch(e){}},[E]);let H=async()=>{let e=[];if(L.billNumber.trim()||e.push("Please enter a Bill Number"),L.customerName.trim()||e.push("Please enter Customer Name"),L.customerAddress.trim()||e.push("Please enter Customer Address"),L.customerGST.trim()||e.push("Please enter Customer GST Number"),0===L.items.length?e.push("Please add at least one item"):L.items.forEach((a,s)=>{a.description.trim()||e.push("Item ".concat(s+1,": Description is required")),a.quantity<=0&&e.push("Item ".concat(s+1,": Quantity must be greater than 0")),a.rate<0&&e.push("Item ".concat(s+1,": Rate cannot be negative")),(a.cgstRate<0||a.cgstRate>100)&&e.push("Item ".concat(s+1,": CGST Rate must be between 0 and 100")),(a.sgstRate<0||a.sgstRate>100)&&e.push("Item ".concat(s+1,": SGST Rate must be between 0 and 100"))}),e.length>0)return void e.forEach(e=>o.Ay.error(e));l(!0);try{await new Promise(e=>setTimeout(e,1e3)),T(!0)}catch(e){console.error("Error generating bill:",e),o.Ay.error("Error generating bill. Please try again.")}finally{l(!1)}};return e?(0,t.jsx)(i,{onComplete:()=>a(!1)}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 relative",children:[N&&(0,t.jsx)("div",{className:"fixed inset-0 bg-blue-500/20 backdrop-blur-sm z-40 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-dashed border-blue-400 p-12 text-center max-w-md mx-4",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCC4"}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Drop JSON File Here"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Release to load your bill data"})]})}),(0,t.jsx)(c,{}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,t.jsx)(u,{size:"lg",text:"Generating Bill...",color:"blue"})}):(0,t.jsxs)("div",{className:"space-y-12",children:[(0,t.jsx)("section",{className:"bg-white shadow-xl border border-gray-200",children:(0,t.jsx)(d,{billData:L,setBillData:I,companyInfo:E,setCompanyInfo:P})}),(0,t.jsx)("section",{className:"bg-white shadow-xl border border-gray-200",children:(0,t.jsx)(x,{billData:L,setBillData:I,compact:!0,toggleFullscreen:()=>v(e=>!e),isFullscreen:y})}),(0,t.jsx)("section",{className:"bg-white shadow-xl border border-gray-200",children:(0,t.jsx)(m,{billData:L})}),(0,t.jsx)("section",{className:"flex justify-center",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 justify-center",children:[(0,t.jsx)("button",{onClick:H,disabled:s,className:"bg-gradient-to-r from-emerald-500 via-green-500 to-teal-600 text-white px-16 py-6 hover:from-emerald-600 hover:via-green-600 hover:to-teal-700 transition-all duration-300 font-bold text-2xl shadow-2xl hover:shadow-3xl hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100 flex items-center space-x-4 group",children:s?(0,t.jsx)(u,{size:"sm",text:"",color:"white"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-3xl group-hover:scale-110 transition-transform duration-300",children:"\uD83D\uDCC4"}),(0,t.jsx)("span",{children:"Generate Professional Bill"}),(0,t.jsx)("span",{className:"text-xl group-hover:scale-110 transition-transform duration-300",children:"→"})]})}),(0,t.jsxs)("button",{onClick:B,className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-8 py-6 hover:from-green-700 hover:to-emerald-700 transition-all duration-300 font-bold text-xl shadow-2xl hover:shadow-3xl hover:scale-105 flex items-center space-x-4 group",children:[(0,t.jsx)("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-300",children:"\uD83D\uDCC2"}),(0,t.jsx)("span",{children:"Open Bill"})]}),(0,t.jsxs)("button",{onClick:R,className:"bg-gradient-to-r from-orange-600 to-red-600 text-white px-8 py-6 hover:from-orange-700 hover:to-red-700 transition-all duration-300 font-bold text-xl shadow-2xl hover:shadow-3xl hover:scale-105 flex items-center space-x-4 group",children:[(0,t.jsx)("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-300",children:"\uD83D\uDCBE"}),(0,t.jsx)("span",{children:"Save Bill"})]}),window.electronAPI&&(0,t.jsxs)("button",{onClick:()=>S(!0),className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-8 py-6 hover:from-purple-700 hover:to-indigo-700 transition-all duration-300 font-bold text-xl shadow-2xl hover:shadow-3xl hover:scale-105 flex items-center space-x-4 group",children:[(0,t.jsx)("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-300",children:"\uD83D\uDD17"}),(0,t.jsx)("span",{children:"Setup File Associations"})]})]})})]}),(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(u,{text:"Loading Bill Generator..."}),children:D&&(0,t.jsx)(h,{billData:L,companyInfo:E,isVisible:D,onClose:()=>{T(!1)},onEdit:()=>{T(!1)},onSave:e=>{try{j(!0),localStorage.setItem("tempBillData",JSON.stringify(e))}catch(e){console.error("Error preparing bill for save:",e),o.Ay.error("Error preparing bill for save. Please try again.")}}})}),(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(u,{text:"Loading Credential Manager..."}),children:(0,t.jsx)(p,{isVisible:n,onClose:()=>j(!1),onSave:e=>{try{let{subtotal:a,totalCGST:s,totalSGST:t,total:r,...l}=e;f(e=>[...e,l].slice(-50)),o.Ay.success("Bill saved successfully!")}catch(e){console.error("Error saving bill:",e),o.Ay.error("Error saving bill. Please try again.")}},billData:L,companyInfo:E})}),(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(u,{text:"Loading File Association Setup..."}),children:(0,t.jsx)(g,{isVisible:k,onClose:()=>S(!1)})})]})]})}},38868:(e,a,s)=>{"use strict";s.d(a,{A:()=>l});var t=s(95155),r=s(12115);function l(e){let{billData:a}=e,s=()=>{try{if(!(null==a?void 0:a.items)||!Array.isArray(a.items))return 0;return a.items.reduce((e,a)=>{let s=parseFloat(a.amount);return!isNaN(s)&&isFinite(s)?e+s:e},0)}catch(e){return console.error("Error calculating subtotal:",e),0}},l=()=>{try{if(!(null==a?void 0:a.items)||!Array.isArray(a.items))return 0;return a.items.reduce((e,a)=>{let s=parseFloat(a.cgstAmount);if(!isNaN(s)&&isFinite(s))return e+s;let t=parseFloat(a.amount),r=parseFloat(a.cgstRate);return!isNaN(t)&&!isNaN(r)&&isFinite(t)&&isFinite(r)?e+r/100*t:e},0)}catch(e){return console.error("Error calculating CGST:",e),0}},n=()=>(null==a?void 0:a.items)&&Array.isArray(a.items)?a.items.reduce((e,a)=>e+(parseFloat(a.sgstAmount)||0),0):0,i=()=>l()+n(),o=e=>{try{let a=parseFloat(e);if(isNaN(a)||!isFinite(a))return"0.00";let s=Math.abs(a);if(s>999999999999.99)return"999999999999.99";return s.toFixed(2)}catch(e){return console.error("Error formatting currency:",e),"0.00"}},c=s(),d=l(),x=n(),m=i(),u=s()+i(),[h,p]=(0,r.useState)(!1);return(0,t.jsx)("div",{className:"no-print fixed bottom-4 right-4 z-40",children:h?(0,t.jsxs)("div",{className:"w-80 rounded-xl bg-white border-2 border-[#019b98] shadow-2xl p-4 animate-fadein",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 flex items-center justify-center rounded-full",style:{background:"#019b98",border:"2px solid #311703"},children:(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("path",{d:"M12 8v4l3 3"})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-base font-bold",style:{color:"#311703",letterSpacing:"0.5px"},children:"Bill Summary"}),(0,t.jsx)("p",{className:"text-[#019b98] text-xs leading-tight font-semibold",children:"Amounts overview"})]})]}),(0,t.jsx)("button",{onClick:()=>p(!1),className:"text-[#311703] hover:text-[#019b98] text-xl font-bold px-2 py-1 rounded transition",children:"✕"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-[#019b98]/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("svg",{width:"18",height:"18",fill:"none",stroke:"#019b98",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,t.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4"}),(0,t.jsx)("path",{d:"M8 9h8M8 13h6"})]}),(0,t.jsx)("span",{className:"text-[#019b98] font-semibold text-sm",children:"Subtotal"})]}),(0,t.jsxs)("span",{className:"text-base font-bold text-[#311703]",children:["₹",o(c)]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-[#019b98]/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("svg",{width:"18",height:"18",fill:"none",stroke:"#2563eb",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,t.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4"}),(0,t.jsx)("path",{d:"M8 9h8M8 13h6"})]}),(0,t.jsx)("span",{className:"text-[#2563eb] font-semibold text-sm",children:"CGST (9%)"})]}),(0,t.jsxs)("span",{className:"text-base font-bold text-[#2563eb]",children:["₹",o(d)]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-[#019b98]/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("svg",{width:"18",height:"18",fill:"none",stroke:"#7c3aed",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,t.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4"}),(0,t.jsx)("path",{d:"M8 9h8M8 13h6"})]}),(0,t.jsx)("span",{className:"text-[#7c3aed] font-semibold text-sm",children:"SGST (9%)"})]}),(0,t.jsxs)("span",{className:"text-base font-bold text-[#7c3aed]",children:["₹",o(x)]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-[#019b98]/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("svg",{width:"18",height:"18",fill:"none",stroke:"#10b981",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,t.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4"}),(0,t.jsx)("path",{d:"M8 9h8M8 13h6"})]}),(0,t.jsx)("span",{className:"text-[#10b981] font-semibold text-sm",children:"Total GST"})]}),(0,t.jsxs)("span",{className:"text-base font-bold text-[#10b981]",children:["₹",o(m)]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-3 rounded-lg bg-gradient-to-r from-[#019b98] to-[#ffd700] px-4 mt-2 shadow",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("svg",{width:"22",height:"22",fill:"none",stroke:"#fff",strokeWidth:"2.2",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("path",{d:"M12 8v4l3 3"})]}),(0,t.jsx)("span",{className:"text-white text-base font-bold",children:"Grand Total"})]}),(0,t.jsxs)("span",{className:"text-xl font-bold text-white",children:["₹",o(u)]})]})]})]}):(0,t.jsx)("button",{onClick:()=>p(!0),"aria-label":"Show bill summary",className:"px-4 py-2 rounded bg-[#019b98] text-white font-semibold shadow hover:bg-[#13bdb2] transition",children:"Show Bill Summary"})})}},41234:()=>{},46914:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});var t=s(95155);function r(e){let{size:a="md",text:s="Loading...",color:r="blue"}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3",children:[(0,t.jsx)("div",{className:"".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"}[a]," ").concat({blue:"text-blue-600",green:"text-green-600",red:"text-red-600",purple:"text-purple-600",white:"text-white"}[r]," animate-spin"),children:(0,t.jsxs)("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),s&&(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 animate-pulse",children:s})]})}},64935:(e,a,s)=>{"use strict";s.d(a,{A:()=>o});var t=s(95155),r=s(12115);function l(e){let{billData:a,setBillData:s}=e;return(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-blue-600 text-sm",children:"\uD83D\uDC64"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-700",children:"Customer Details"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Enter billing information"})]})]})}),(0,t.jsx)("div",{className:"rounded-lg bg-white",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Customer Name"}),(0,t.jsx)("input",{type:"text",placeholder:"Enter customer name",value:a.customerName||"",onChange:e=>s({...a,customerName:e.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm text-gray-700   focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500   placeholder:text-gray-400 hover:border-gray-400 transition-colors"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Plant Name"}),(0,t.jsx)("input",{type:"text",placeholder:"Enter plant name",value:a.plantName||"",onChange:e=>s({...a,plantName:e.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm text-gray-700   focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500   placeholder:text-gray-400 hover:border-gray-400 transition-colors"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Address"}),(0,t.jsx)("textarea",{placeholder:"Enter customer address",value:a.customerAddress||"",onChange:e=>s({...a,customerAddress:e.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm text-gray-700   focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500   placeholder:text-gray-400 hover:border-gray-400 transition-colors   resize-none min-h-[5rem]"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",placeholder:"Enter phone number",value:a.customerPhone||"",onChange:e=>s({...a,customerPhone:e.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm text-gray-700   focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500   placeholder:text-gray-400 hover:border-gray-400 transition-colors"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-gray-700 uppercase tracking-wide",children:"GST Number"}),(0,t.jsx)("input",{type:"text",placeholder:"Enter GST number",value:a.customerGST,onChange:e=>s({...a,customerGST:e.target.value}),className:"w-full border-2 border-gray-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white text-gray-900 font-semibold placeholder-gray-500 text-sm hover:border-blue-400"})]})]})]})})]})})}function n(e){let{open:a}=e;return(0,t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:[(0,t.jsx)("rect",{x:"3",y:"6",width:"18",height:"2",rx:"1",fill:"currentColor",transform:a?"translate(0,6) rotate(45 12 12)":void 0,style:{transition:"transform 160ms ease, opacity 160ms ease"}}),(0,t.jsx)("rect",{x:"3",y:"12",width:"18",height:"2",rx:"1",fill:"currentColor",style:{opacity:+!a,transition:"opacity 120ms ease"}}),(0,t.jsx)("rect",{x:"3",y:"18",width:"18",height:"2",rx:"1",fill:"currentColor",transform:a?"translate(0,-6) rotate(-45 12 12)":void 0,style:{transition:"transform 160ms ease, opacity 160ms ease"}})]})}let i={name:"PUJARI ENGINEERS INDIA (P) LTD.",services:"ONLINE LEAK SEALING • INSULATION HOT TIGHTING • METAL STITCHING • SPARE PARTS SUPPLIERS & LABOUR SUPPLIERS",address:"B-21, Flat No.101, Siddeshwar Co-op Hsg. Soc; Sector-9, Gharonda, Ghansoli, Navi, Mumbai -400 701.",phone:"9820027556",email:"spujari79@gmail.com",gst:"27AADCP2938G1ZD",pan:"AADCP2938G"};function o(e){let{billData:a,setBillData:s,companyInfo:o,setCompanyInfo:x}=e,[m,u]=(0,r.useState)(!0);return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black z-30 transition-opacity ".concat(m?"opacity-40 pointer-events-auto":"opacity-0 pointer-events-none"," md:hidden"),onClick:()=>u(!1),"aria-hidden":!0}),(0,t.jsx)("button",{onClick:()=>u(!m),"aria-expanded":m,"aria-label":m?"Close sidebar":"Open sidebar",className:"fixed top-4 left-4 z-50 bg-[#019b98] border-2 border-[#311703] rounded-full p-2 shadow-lg transition-all duration-200 hover:bg-[#311703] hover:border-[#019b98] focus:outline-none",style:{boxShadow:m?"0 4px 24px #019b9833":void 0,left:m?200:16},children:(0,t.jsx)(n,{open:m})}),(0,t.jsx)("aside",{className:"fixed top-0 left-0 h-screen bg-white border-r-4 border-[#019b98] shadow-2xl z-40 transition-transform duration-300 ".concat(m?"translate-x-0 w-80":"-translate-x-full w-80"),style:{boxShadow:m?"0 8px 32px #019b9833":void 0},children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)("div",{className:"p-5 border-b border-[#019b98] bg-[#019b98]/10 shadow-2xl",children:(0,t.jsx)("h2",{className:"text-lg font-bold text-[#019b98] tracking-wide",children:"Billing Panel"})}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-5 space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide",children:"Company Details"}),(0,t.jsx)(c,{companyInfo:o,setCompanyInfo:x})]}),(0,t.jsxs)("div",{className:"p-3 bg-[#019b98]/10 rounded-lg border border-[#019b98]/40",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-[#311703]",children:(null==o?void 0:o.name)||i.name}),(0,t.jsxs)("p",{className:"text-xs text-[#019b98] mt-1",children:["GSTIN: ",(null==o?void 0:o.gst)||i.gst]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide",children:"Bill Details"}),(0,t.jsxs)("div",{className:"space-y-4 bg-[#019b98]/5 p-4 rounded-lg border border-[#019b98]/20",children:[(0,t.jsx)(d,{label:"Bill Number",value:null==a?void 0:a.billNumber,placeholder:"PEIPLCH2526/001",onChange:e=>s({...a,billNumber:e})}),(0,t.jsx)(d,{label:"Bill Date",type:"date",value:null==a?void 0:a.date,onChange:e=>s({...a,date:e})})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide",children:"Customer Information"}),(0,t.jsx)("div",{className:"bg-[#019b98]/5 p-4 rounded-lg border border-[#019b98]/20",children:(0,t.jsx)(l,{billData:a,setBillData:s})})]})]}),(0,t.jsx)("div",{className:"p-4 border-t border-[#019b98]/20 bg-[#019b98]/5",children:(0,t.jsxs)("p",{className:"text-xs text-[#019b98] text-center",children:["\xa9 ",new Date().getFullYear()," Pujari Engineers"]})})]})})]})}function c(e){let{companyInfo:a,setCompanyInfo:s}=e,[l,n]=(0,r.useState)(!1),[o,c]=(0,r.useState)(a||i);return(0,t.jsx)(t.Fragment,{children:l?(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white text-gray-900 p-6 border border-gray-300 w-96 rounded-lg shadow-xl space-y-4",children:[(0,t.jsx)("h3",{className:"text-base font-bold text-gray-700",children:"Edit Company"}),(0,t.jsxs)("div",{className:"space-y-2 max-h-[60vh] overflow-y-auto pr-2",children:[(0,t.jsx)(d,{label:"Name",value:o.name,onChange:e=>c({...o,name:e})}),(0,t.jsx)(d,{label:"Services",value:o.services,onChange:e=>c({...o,services:e})}),(0,t.jsx)(d,{label:"Address",value:o.address,onChange:e=>c({...o,address:e})}),(0,t.jsx)(d,{label:"Phone",value:o.phone,onChange:e=>c({...o,phone:e})}),(0,t.jsx)(d,{label:"Email",value:o.email,onChange:e=>c({...o,email:e})}),(0,t.jsx)(d,{label:"GSTIN",value:o.gst,onChange:e=>c({...o,gst:e})}),(0,t.jsx)(d,{label:"PAN",value:o.pan,onChange:e=>c({...o,pan:e})})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 pt-2",children:[(0,t.jsx)("button",{onClick:()=>n(!1),className:"px-3 py-1 bg-gray-200 text-gray-800 text-sm rounded hover:bg-gray-300",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{s(o),n(!1)},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Save"})]})]})}):(0,t.jsx)("button",{onClick:()=>{c(a||i),n(!0)},className:"px-2 py-1 text-xs font-medium bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Edit"})})}function d(e){let{label:a,value:s,onChange:r,type:l="text",placeholder:n}=e;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs font-semibold text-gray-600",children:a}),(0,t.jsx)("input",{type:l,value:s||"",onChange:e=>r(e.target.value),placeholder:n,className:"w-full bg-white border border-gray-300 rounded-md px-3 py-2 text-gray-900 text-sm    placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent   shadow-sm transition"})]})}},76667:(e,a,s)=>{Promise.resolve().then(s.bind(s,34772))},88050:e=>{e.exports={dragHandle:"ItemsTable_dragHandle__Kq1TB",btnModern:"ItemsTable_btnModern__Gtmdd",btnAdd:"ItemsTable_btnAdd__MrG2_",btnCol:"ItemsTable_btnCol__4_ZVg",btnDanger:"ItemsTable_btnDanger__x32J7",rowHover:"ItemsTable_rowHover__ggGuN",buffered:"ItemsTable_buffered__yMmCg"}}},e=>{e.O(0,[717,663,299,441,255,358],()=>e(e.s=76667)),_N_E=e.O()}]);